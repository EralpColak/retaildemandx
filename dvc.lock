schema: '2.0'
stages:
  ingest_synth:
    cmd: python -m src.data.ingest_synthetic --out_dir data/raw --start 
      2024-01-01 --end 2024-03-31 --n_stores 8 --n_skus 5
    outs:
    - path: data/raw/sales.parquet
      hash: md5
      md5: 5c0ec17cef678b61865036d5ca1b85ef
      size: 174072
  validate:
    cmd: python -m src.data.validate
    deps:
    - path: data/raw/sales.parquet
      hash: md5
      md5: 5c0ec17cef678b61865036d5ca1b85ef
      size: 174072
    - path: src/data/validate.py
      hash: md5
      md5: 56aa315ca8ba25c18daccfdda4ddd521
      size: 1223
  features:
    cmd: python -m src.features.build_features
    deps:
    - path: data/raw/sales.parquet
      hash: md5
      md5: 5c0ec17cef678b61865036d5ca1b85ef
      size: 174072
    - path: src/features/build_features.py
      hash: md5
      md5: ff671166fc5b0ccd51c8dae87745df53
      size: 1743
    outs:
    - path: data/processed/features.parquet
      hash: md5
      md5: f6893d06fc73797904321d000411476f
      size: 1961118
  train:
    cmd: python -m src.models.train
    deps:
    - path: data/processed/features.parquet
      hash: md5
      md5: f6893d06fc73797904321d000411476f
      size: 1961118
    - path: src/models/train.py
      hash: md5
      md5: f20ffa0eb55283407b3796d3ed522672
      size: 6340
    outs:
    - path: artifacts/metrics.json
      hash: md5
      md5: be5ce30ac47688fe946705b2ac8efe70
      size: 125
    - path: artifacts/models
      hash: md5
      md5: 62b2710a568cabc285432da45f33d53e.dir
      size: 42851277
      nfiles: 48
  evaluate:
    cmd: python -m src.models.evaluate
    deps:
    - path: artifacts/models
      hash: md5
      md5: 62b2710a568cabc285432da45f33d53e.dir
      size: 42851277
      nfiles: 48
    - path: src/models/evaluate.py
      hash: md5
      md5: 9a8f7e7dfb4d0fa521eec3120553bea8
      size: 4874
    outs:
    - path: artifacts/reports
      hash: md5
      md5: c58c0b291d5a67b4a8afad517fa501ff.dir
      size: 507169
      nfiles: 5
